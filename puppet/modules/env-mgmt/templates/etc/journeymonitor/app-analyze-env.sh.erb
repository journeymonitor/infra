#!/usr/bin/env bash

# managed by puppet

export JOURNEYMONITOR_ANALYZE_CASSANDRAURI="<%= scope.function_hiera(['env::cassandra:uri:analyze_keyspace']) %>"

export JOURNEYMONITOR_ANALYZE_CASSANDRAURI_TEST="<%= scope.function_hiera(['env::cassandra:uri:test_keyspace']) %>"

export JOURNEYMONITOR_ANALYZE_SPARK_CASSANDRAHOST="<%= scope.function_hiera(['env::cassandra:host']) %>"

export JOURNEYMONITOR_ANALYZE_CASSANDRA_CQLSH_HOST="<%= scope.function_hiera(['env::cassandra:cqlsh_host']) %>"

export JOURNEYMONITOR_ANALYZE_API_PLAY2_APPLICATION_SECRET="`cat /etc/journeymonitor/analyze_api_play2_application_secret`"

export JOURNEYMONITOR_ANALYZE_API_LISTEN_PORT="<%= scope.function_hiera(['env::app-analyze:api:listen_port']) %>"

export JOURNEYMONITOR_ANALYZE_API_PIDFILE_PATH="<%= scope.function_hiera(['env::app-analyze:api:pidfile_path']) %>"


# Systems can have several version of Java installed, therefore make sure we use the correct one

export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64

export JRE_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre
